<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:p="http://primefaces.org/ui">
  <h:head>
  	<title>Primefaces ejercicio 2</title>
  </h:head>
 
  <h:body>
  	<h:form id="form">
	  	<p:messages id="messages" showDetail="true" closable="true">
	        <p:autoUpdate />
	    </p:messages>
	    
	    <h:outputLabel for="@next" value="Numero de inputs a anadir: " />
        <p:spinner id="numeroInputs" value="#{vista2.numeroInputs}" stepFactor="1" min="1" max="10" />
        <p:spacer height="10px" width="100%"/>
        
        <p:commandButton id="addInputs" value="addInputs" action="#{vista2.anadirInputs}" update="panelInputs"/>
        
        <p:panel id="panelInputs" visible="#{vista2.numeroInputs != null and vista2.numeroInputs > 0}">
			<p:repeat value="#{vista2.listaInputs}" var="inp">
				<c:set var="input" value="input${inp}"/>
				<h:outputText value="Input ${inp}"/>
       			<p:spacer height="10px" width="100%"/>
				<p:inputText value="#{vista2[input]}"/>
       			<p:spacer height="10px" width="100%"/>
			</p:repeat>        		
        </p:panel>
        
        <p:commandButton id="submit" value="Submit" action="#{vista2.submit}"/>
	    
  	</h:form>
  </h:body>
</html>
